<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>STUR Sandbox ‚Äì Geometry ‚Ä¢ Simulation ‚Ä¢ AI Collaboration</title>

<style>
  body {
    background:#050814;
    color:#e6edf3;
    font-family:'Courier New', monospace;
    margin:0;
    padding:1.5rem;
    line-height:1.55;
  }
  h1 { text-align:center; color:#ffaa00; margin-bottom:1rem; }
  h2 { color:#ffcc33; margin-top:1.5rem; }
  .panel {
    background:#0a0f1f;
    padding:1.2rem;
    border-radius:8px;
    max-width:900px;
    margin:1rem auto;
    box-shadow:0 0 12px #ffaa0044;
  }
  .text { max-width:900px; margin:0 auto; }
  pre {
    background:#000;
    color:#00ffcc;
    padding:1rem;
    border-radius:6px;
    overflow-x:auto;
    font-size:0.85rem;
    border:1px solid #0a223d;
  }
  button {
    background:#ffaa00;
    color:#050814;
    border:none;
    border-radius:6px;
    padding:10px 18px;
    margin:6px;
    cursor:pointer;
    font-family:'Courier New', monospace;
    font-weight:bold;
  }
  button:hover { background:#ffcc33; }
  a { color:#5ad0ff; text-decoration:none; }
  .btn-row { text-align:center; margin-top:1.2rem; }

  /* sandbox layout */
  .controls-row {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    align-items:center;
    margin-top:0.5rem;
  }
  .controls-column { flex:1 1 180px; min-width:0; }
  .buttons-column {
    flex:1 1 160px;
    display:flex;
    flex-wrap:wrap;
    justify-content:flex-start;
  }

  canvas {
    width:100%;
    height:260px;
    background:#000;
    border-radius:6px;
    margin-top:0.75rem;
  }

  .energy-wrap { margin-top:0.5rem; font-size:0.75rem; }
  .energy-bar {
    background:#111;
    border-radius:4px;
    overflow:hidden;
    height:10px;
    margin-top:4px;
  }
  .energy-inner {
    height:100%;
    width:0%;
    background:#00ffcc;
    transition:width 0.1s linear;
  }

  @media (max-width:600px) {
    body { padding:1rem; }
    .panel { padding:0.8rem; }
    button { flex:1 1 45%; text-align:center; }
  }
</style>
</head>
<body>

<h1>STUR Sandbox ‚Äì Geometry, Simulation & AI</h1>

<!-- ===================================================== -->
<!-- EDUCATIONAL SECTION -->
<!-- ===================================================== -->

<div class="panel">
<h2>Welcome to the STUR Sandbox</h2>
<p class="text">
This page is an interactive physics laboratory.
<br><br>
It teaches:
<br>‚Ä¢ how to experiment with geometry  
<br>‚Ä¢ how to write and understand simulations  
<br>‚Ä¢ how to use AI to extend theoretical physics  
<br><br>
You‚Äôll learn **the entire modern physics workflow**:
<br><br>
<b>idea ‚Üí equation ‚Üí derivative ‚Üí simulation ‚Üí refinement ‚Üí iteration</b>
<br><br>
And then you can repeat that workflow with AI as a partner.
</p>
</div>

<div class="panel">
<h2>How Science Really Works (Iteration)</h2>
<p class="text">
Science is not a straight line. It is iteration:
</p>

<pre>
guess ‚Üí compute ‚Üí compare ‚Üí refine ‚Üí repeat
</pre>

<p class="text">
This sandbox is built for fast iteration.  
Move sliders, watch motion change, observe behavior, adjust.  
Every experiment trains intuition.
</p>
</div>

<div class="panel">
<h2>Why Simulations Matter</h2>
<p class="text">
Simulations let you run impossible experiments:
<br><br>
‚Ä¢ too big (galaxies)  
‚Ä¢ too small (quarks)  
‚Ä¢ too dangerous (plasma)  
‚Ä¢ too expensive (supercolliders)  
‚Ä¢ too slow to observe in real time  
<br><br>
This sandbox is a tiny version of the same principle:
a single geometry function driving motion.
</p>
</div>

<div class="panel">
<h2>A Short History of Simulations</h2>
<p class="text">
The first ‚Äúsimulations‚Äù were mechanical: pendulums, gears, adding machines.
<br><br>
Then came digital computers:
<br>‚Ä¢ 1950s orbit simulations  
<br>‚Ä¢ 1960s weather modeling  
<br>‚Ä¢ 1970s plasma torus codes  
<br>‚Ä¢ 1980s cosmology  
<br>‚Ä¢ 2000s molecular dynamics  
<br>‚Ä¢ 2020s neural simulations  
<br>‚Ä¢ 2025+ AI-assisted physics  
<br><br>
This sandbox continues that lineage: a geometry ‚Üí motion experiment.
</p>
</div>

<div class="panel">
<h2>How to Use AI for Theoretical Physics</h2>
<p class="text">
AI can now assist at every stage:
</p>

<pre>
1. derive dS/dr or more complex fields
2. check your algebra
3. explore special cases and limits
4. rewrite your equations in canonical form
5. build simulations or PDE solvers
6. search for conserved quantities
7. extend your geometry to 2D, 3D, helical, toroidal, etc.
</pre>

<p class="text">
The key is still <b>your idea</b>.
AI accelerates the steps around it ‚Äî not the spark itself.
</p>
</div>

<div class="panel">
<h2>STUR Geometry in One Equation</h2>
<pre>S(r) = tanh(r/L‚ÇÄ) ¬∑ (1 ‚àí e<sup>‚àír/L‚ÇÄ</sup>)</pre>
<p class="text">
This one expression contains curvature, damping, confinement characteristics,
and the ability to unify different types of fields into one geometry.
</p>
</div>

<!-- ===================================================== -->
<!-- INTERACTIVE SANDBOX -->
<!-- ===================================================== -->

<div class="panel">
  <h2>Interactive Geometry Sandbox</h2>
  <p class="text">
Change the geometry, observe motion, and experiment with structure.
  </p>

  <div class="controls-row">
    <div class="controls-column">
      <label>L‚ÇÄ (geometry scale): <span id="L0_val">1.00</span></label>
      <input type="range" id="L0" min="0.2" max="3" value="1" step="0.1">

      <label>R<sub>max</sub> (horizontal range): <span id="Rmax_val">5.0</span></label>
      <input type="range" id="Rmax" min="2" max="10" value="5" step="0.5">
    </div>

    <div class="buttons-column">
      <button id="toggleAnim">‚ñ∂ Start</button>
      <button id="kickBtn">‚ö° Kick</button>
      <button id="resetBtn">‚ü≤ Reset</button>
      <button id="downloadBtn">‚¨á Curve</button>
    </div>
  </div>

  <canvas id="plot" width="800" height="260"></canvas>

  <div class="energy-wrap">
    Speed indicator:
    <div class="energy-bar"><div id="speed_bar" class="energy-inner"></div></div>
  </div>

  <details style="margin-top:0.5rem;">
    <summary>Show live numerical output</summary>
    <pre id="output"></pre>
  </details>
</div>

<!-- ===================================================== -->
<!-- STARTER TEMPLATE FOR AI -->
<!-- ===================================================== -->

<div class="panel">
  <h2>STUR Starter Template (Copy Ready)</h2>
  <p class="text">This is the official template for creating new STUR simulations with AI.</p>

<pre id="ai_template">
# ===============================================================
# STUR Starter Template ‚Äì Derivations + Simulation (AI Ready)
# ===============================================================
import numpy as np
import matplotlib.pyplot as plt
plt.style.use("dark_background")

def S(r, L0):
    x = r/L0
    return np.tanh(x)*(1 - np.exp(-x))

def dS_dr(r, L0):
    x = r/L0
    sech2 = 1/np.cosh(x)**2
    return (sech2*(1 - np.exp(-x)) + np.tanh(x)*np.exp(-x)) / L0

def force(r, L0):
    return -dS_dr(r, L0)

def simulate(L0=1.0, Rmax=8.0, dt=0.01, steps=5000):
    r = Rmax/2
    v = 0.0
    rs = []
    for _ in range(steps):
        v += force(r,L0)*dt
        r += v*dt
        r = max(0, min(Rmax, r))
        rs.append(r)
    return np.array(rs)

traj = simulate(L0=1.0)
plt.plot(traj); plt.show()

# Ask AI to:
#  - derive the Lagrangian
#  - extend to 2D/3D
#  - quantize the geometry
#  - generalize S(r)
#  - build multi-body STUR systems
#  - find conserved quantities
</pre>

  <button onclick="copyAITemplate()">üìã Copy STUR AI Template</button>
</div>

<div class="panel" style="text-align:center;">
  <button onclick="location.href='../index.html'">‚Üê Back to STUR Index</button>
</div>

<script>
/* ========= geometry ========= */
function S(r, L0){ const x=r/L0; return Math.tanh(x)*(1-Math.exp(-x)); }
function dS_dr(r,L0){
  const h=1e-3*Math.max(1,L0);
  return (S(r+h,L0)-S(Math.max(0,r-h),L0))/(2*h);
}

/* ========= DOM ========= */
const L0_slider=document.getElementById("L0");
const Rmax_slider=document.getElementById("Rmax");
const L0_val=document.getElementById("L0_val");
const Rmax_val=document.getElementById("Rmax_val");
const canvas=document.getElementById("plot");
const ctx=canvas.getContext("2d");
const outputEl=document.getElementById("output");
const toggleBtn=document.getElementById("toggleAnim");
const kickBtn=document.getElementById("kickBtn");
const resetBtn=document.getElementById("resetBtn");
const downloadBtn=document.getElementById("downloadBtn");
const speedBar=document.getElementById("speed_bar");

/* ========= particle ========= */
let particle={ r:2.5, v:0 };
let animating=false;
let trail=[];

/* ========= update ========= */
function update(){
  const L0=parseFloat(L0_slider.value);
  const Rmax=parseFloat(Rmax_slider.value);
  if(particle.r>Rmax) particle.r=Rmax;

  L0_val.textContent=L0.toFixed(2);
  Rmax_val.textContent=Rmax.toFixed(1);
  drawScene(L0,Rmax);

  const slope=dS_dr(particle.r,L0);
  speedBar.style.width = (Math.min(1,Math.abs(particle.v)/3)*100)+"%";

  outputEl.textContent=
`L‚ÇÄ = ${L0}
Rmax = ${Rmax}

r = ${particle.r.toFixed(3)}
v = ${particle.v.toFixed(3)}
slope = ${slope.toExponential(3)}
F = ${(-slope).toExponential(3)}`;
}

/* ========= draw ========= */
function drawScene(L0,Rmax){
  const W=canvas.width, H=canvas.height;
  ctx.clearRect(0,0,W,H);

  ctx.strokeStyle="#333"; ctx.beginPath();
  ctx.moveTo(0,H/2); ctx.lineTo(W,H/2); ctx.stroke();

  ctx.strokeStyle="#ffaa00"; ctx.beginPath();
  for(let i=0;i<=W;i++){
    const r=(i/W)*Rmax;
    let val=S(r,L0);
    val=Math.max(-1.2,Math.min(1.2,val));
    const y=H/2 - val*(H*0.4);
    if(i===0) ctx.moveTo(i,y); else ctx.lineTo(i,y);
  }
  ctx.stroke();

  if(trail.length>1){
    for(let i=1;i<trail.length;i++){
      const r1=trail[i-1], r2=trail[i];
      const x1=(r1/Rmax)*W, x2=(r2/Rmax)*W;
      const y1=H/2-S(r1,L0)*(H*0.4);
      const y2=H/2-S(r2,L0)*(H*0.4);
      ctx.strokeStyle=`rgba(0,255,204,${i/trail.length*0.5})`;
      ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
    }
  }

  const xp=(particle.r/Rmax)*W;
  const yp=H/2 - S(particle.r,L0)*(H*0.4);
  ctx.fillStyle="#00ffcc";
  ctx.beginPath(); ctx.arc(xp,yp,6,0,2*Math.PI); ctx.fill();
}

/* ========= physics ========= */
function step(L0,Rmax,dt=0.02){
  const slope=dS_dr(particle.r,L0);
  const F=-slope;
  particle.v += (F - 0.05*particle.v)*dt;
  particle.r += particle.v*dt;
  if(particle.r<0){ particle.r=0; particle.v*=-0.4; }
  if(particle.r>Rmax){ particle.r=Rmax; particle.v*=-0.4; }
  trail.push(particle.r); if(trail.length>200) trail.shift();
}

/* ========= animation ========= */
function animate(){
  if(!animating) return;
  const L0=parseFloat(L0_slider.value);
  const Rmax=parseFloat(Rmax_slider.value);
  for(let i=0;i<3;i++) step(L0,Rmax);
  update();
  requestAnimationFrame(animate);
}

/* ========= events ========= */
L0_slider.oninput=update;
Rmax_slider.oninput=update;

toggleBtn.onclick=()=>{
  animating=!animating;
  toggleBtn.textContent=animating?"‚è∏ Pause":"‚ñ∂ Start";
  if(animating) requestAnimationFrame(animate);
};

kickBtn.onclick=()=>{
  const Rmax=parseFloat(Rmax_slider.value);  
  const dir = (particle.r <= Rmax/2) ? 1 : -1;
  particle.v = dir*(1 + Math.random()*0.7);
  update();
};

resetBtn.onclick=()=>{
  L0_slider.value=1;
  Rmax_slider.value=5;
  particle={ r:2.5, v:0 };
  trail=[];
  animating=false;
  toggleBtn.textContent="‚ñ∂ Start";
  update();
};

downloadBtn.onclick=()=>{
  const L0=parseFloat(L0_slider.value);
  const Rmax=parseFloat(Rmax_slider.value);
  const pts=[];
  for(let i=0;i<=200;i++){
    const r=(i/200)*Rmax;
    pts.push({ r:r, S:S(r,L0) });
  }
  const json=JSON.stringify({L0,Rmax,points:pts},null,2);
  const blob=new Blob([json],{type:"application/json"});
  const url=URL.createObjectURL(blob);
  const a=document.createElement("a");
  a.href=url; a.download="stur_curve.json"; a.click();
  URL.revokeObjectURL(url);
};

function copyAITemplate(){
  navigator.clipboard.writeText(document.getElementById("ai_template").innerText);
  alert("STUR AI Template copied!");
}

/* ========= init ========= */
update();
</script>

</body>
</html>
