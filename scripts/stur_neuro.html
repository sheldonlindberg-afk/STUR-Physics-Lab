<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>STUR Neuroplasticity Lab ‚Äì 5D œá Synapse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --bg: #05070b;
      --panel: #10151f;
      --accent: #33e0ff;
      --accent-soft: #8bf3ff;
      --accent-warm: #ffce6b;
      --border-soft: #323b4a;
      --text-main: #f2f4ff;
      --text-muted: #a9b3cc;
      --code-bg: #050910;
      --code-border: #262f3e;
      --btn-bg: #151c28;
      --btn-border: #3a4b63;
      --btn-hover: #1e2738;
      --danger: #ff6b6b;
      --good: #8bff9b;
    }
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
                   "SF Pro Text", "Segoe UI", sans-serif;
      background: radial-gradient(circle at 10% 0%, #08101f 0%, var(--bg) 40%);
      color: var(--text-main);
      line-height: 1.5;
    }

    a {
      color: var(--accent-soft);
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    header {
      padding: 1.8rem 1.5rem 1rem;
      border-bottom: 1px solid var(--border-soft);
      background: linear-gradient(135deg, #05070c 0%, #080d17 40%, #05070c 100%);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .title-row {
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: 0.75rem;
    }

    h1 {
      margin: 0;
      font-size: 1.8rem;
      letter-spacing: 0.04em;
      text-transform: uppercase;
    }

    .subtitle {
      font-size: 0.95rem;
      color: var(--text-muted);
      opacity: 0.9;
    }

    .nav-row {
      margin-top: 0.8rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .nav-separator {
      opacity: 0.35;
    }

    main {
      padding: 1.5rem;
      max-width: 1200px;
      margin: 0 auto 3rem;
    }

    .grid {
      display: grid;
      grid-template-columns: minmax(0, 2.5fr) minmax(0, 1.8fr);
      gap: 1.5rem;
    }
    @media (max-width: 900px) {
      .grid {
        grid-template-columns: minmax(0,1fr);
      }
    }

    .panel {
      background: radial-gradient(circle at 0 0, #161f30 0%, var(--panel) 60%);
      border-radius: 0.9rem;
      border: 1px solid rgba(106,151,255,0.25);
      padding: 1.25rem 1.35rem 1.4rem;
      box-shadow: 0 18px 45px rgba(0,0,0,0.55);
      position: relative;
      overflow: hidden;
    }
    .panel::before {
      content:"";
      position:absolute;
      inset:-40%;
      background:
        radial-gradient(circle at 20% 0%, rgba(51,224,255,0.08) 0, transparent 50%),
        radial-gradient(circle at 100% 10%, rgba(255,222,132,0.07) 0, transparent 48%);
      opacity: 0.85;
      pointer-events:none;
      z-index:-1;
    }

    .panel h2 {
      margin-top: 0;
      font-size: 1.2rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 0.6rem;
    }

    .panel h3 {
      font-size: 1.05rem;
      margin-top: 1rem;
      margin-bottom: 0.35rem;
    }

    .kicker {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: var(--accent-soft);
      margin-bottom: 0.2rem;
    }

    .equation-block {
      background: linear-gradient(135deg, #060913 0%, #050a12 40%, #05070b 100%);
      border-radius: 0.75rem;
      border: 1px solid var(--code-border);
      padding: 0.6rem 0.8rem 0.75rem;
      font-family: "SF Mono","JetBrains Mono",ui-monospace,Menlo,Consolas,monospace;
      font-size: 0.88rem;
      overflow-x: auto;
      margin: 0.4rem 0 0.75rem;
    }
    .equation-block strong {
      color: var(--accent-warm);
    }

    code {
      font-family: "SF Mono","JetBrains Mono",ui-monospace,Menlo,Consolas,monospace;
    }

    .buttons-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      margin-top: 0.8rem;
    }

    .btn {
      display:inline-flex;
      align-items:center;
      gap:0.4rem;
      padding:0.45rem 0.85rem;
      border-radius:999px;
      border:1px solid var(--btn-border);
      background: radial-gradient(circle at 0 0, #1f2937 0%, var(--btn-bg) 55%);
      color: var(--text-main);
      font-size: 0.85rem;
      cursor:pointer;
      transition: background 0.15s ease, transform 0.08s ease, box-shadow 0.15s ease;
      text-decoration:none;
    }
    .btn:hover {
      background: var(--btn-hover);
      box-shadow: 0 0 0 1px rgba(108,154,255,0.4), 0 6px 16px rgba(0,0,0,0.5);
      transform: translateY(-0.5px);
    }
    .btn .icon {
      font-size: 0.9rem;
      opacity: 0.9;
    }
    .btn-primary {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(51,224,255,0.35);
    }
    .btn-danger {
      border-color: var(--danger);
    }

    .tagline {
      font-size: 0.92rem;
      color: var(--text-muted);
      margin-top: 0.35rem;
    }

    .phi-quote {
      font-style: italic;
      color: var(--accent-soft);
      border-left: 2px solid rgba(139,243,255,0.6);
      padding-left: 0.7rem;
      margin-top: 0.6rem;
    }

    .code-wrapper {
      position: relative;
      margin-top: 0.8rem;
    }
    pre.code-block {
      margin: 0;
      border-radius:0.75rem;
      border:1px solid var(--code-border);
      background: radial-gradient(circle at 0 0, #040812 0%, var(--code-bg)48%);
      padding:0.9rem 0.95rem 1rem;
      font-size:0.82rem;
      overflow-x:auto;
      color:#f7fbff;
    }

    footer {
      max-width:1200px;
      margin:0 auto 2.5rem;
      padding:0 1.5rem;
      font-size:0.8rem;
      color:var(--text-muted);
      opacity:0.85;
    }
  </style>

  <script>
    window.MathJax = {
      tex: { inlineMath: [["\\(","\\)"],["$","$"]] },
      svg: { fontCache: "global" }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>
  <header>
    <div class="title-row">
      <h1>STUR Neuroplasticity Lab</h1>
      <div class="subtitle">5D œá‚ÄìSynapse Formation ¬∑ Coherence ¬∑ Learning Advantage</div>
    </div>
    <div class="nav-row">
      <span><a href="https://sheldonlindberg-afk.github.io/STUR-Physics-Lab/">STUR Physics Lab</a></span>
      <span class="nav-separator">¬∑</span>
      <span><a href="https://sheldonlindberg-afk.github.io/STUR-Physics-Lab/scripts/stur_sandbox.html">STUR Sandbox (JupyterLite)</a></span>
      <span class="nav-separator">¬∑</span>
      <span><a href="https://sheldonlindberg-afk.github.io/STUR-Physics-Lab/scripts/">Scripts Index</a></span>
    </div>
  </header>

  <main>
    <section class="grid">
      <!-- Left column: Physics + Philosophy -->
      <article class="panel">
        <div class="kicker">Unified Resistance ¬∑ œá‚ÄìDimension</div>
        <h2>Conceptual Map</h2>

        <p>
          This lab simulates a single axon growing from <strong>Neuron A</strong> to <strong>Neuron B</strong>
          under the <strong>Unified Resistance Lagrangian</strong>. As the growth cone searches, three things
          evolve together:
        </p>
        <ul>
          <li>The <strong>distance</strong> to the target dendrite \(r(t)\)</li>
          <li>The <strong>spin‚Äìfield coherence</strong> \(c(t)=\mathbf S\!\cdot\!\mathbf B\in[-1,1]\)</li>
          <li>The <strong>structural synaptic weight</strong> \(w(t)\in[0,1]\)</li>
        </ul>

        <p>
          When geometry and coherence align, the synapse stabilizes, and the same spikes are passed through
          two different channels:
        </p>
        <ul>
          <li>A <strong>classical synapse</strong> with conductance \(g_{\text{classic}}\propto w\)</li>
          <li>A <strong>STUR œá‚Äìenhanced synapse</strong> with conductance
              \(g_{\text{STUR}}\propto w\,(1+\lambda_X)\)</li>
        </ul>

        <p class="tagline">
          The œá-dimension behaves like an extra coherence dial: same action potential in, but a higher
          effective gain when the underlying resistance field is aligned.
        </p>

        <h3>Unified Resistance Lagrangian (axon growth)</h3>
        <div class="equation-block">
          <strong>Lagrangian</strong><br>
          \(L = \tfrac12 \mu\big(\dot r^2 + r^2 \dot\theta^2\big)
             - U(r)
             - \gamma_0 e^{-r/\ell_B}\,\mathbf S\!\cdot\!\mathbf B
             + L_{\text{spin,kin}}(\mathbf S,\dot{\mathbf S})\)<br><br>
          <strong>Effective potential</strong><br>
          \(U(r) = -\displaystyle\int^r
            \mathcal S(\rho)
            \Big[
               \tfrac{k_e q_1 q_2}{\rho^2}
             - \tfrac{G m_1 m_2}{\rho^2}
             + \alpha_s\big(
                 \tfrac{1-e^{-\rho/\lambda}}{\rho^2}
                 + \sigma\,\rho
               \big)
            \Big]\,d\rho\)<br><br>
          with synapse-safe regulator<br>
          \(\mathcal S(r) = \tanh(r/L_0)\big(1 - e^{-r/L_0}\big)\).
        </div>

        <div class="equation-block">
          <strong>Radial force</strong><br>
          \(F_r(r,c) =
           \mathcal S(r)\Big[
               \tfrac{k_e\,q_1\,q_2 - G\,m_1\,m_2}{r^2}
               + \alpha_s\Big(\tfrac{1-e^{-r/\lambda}}{r^2} + \sigma\,r\Big)
           \Big]
           + \tfrac{\gamma_0}{\ell_B} e^{-r/\ell_B} c\)<br><br>
          Axon motion is overdamped with noise:
          \(\;\dot{\mathbf v} \sim -F_r\,\hat{\mathbf r} - \gamma_v\,\mathbf v + \text{Brownian search}.\)
        </div>

        <h3>Coherence, œá, and Structural Weight</h3>
        <div class="equation-block">
          <strong>Coherence target</strong> (geometry-dependent)<br>
          \(c_\star(r) = \tanh\!\Big(\dfrac{r_{\rm syn} - r}{0.5\,r_{\rm syn}}\Big)\)<br><br>
          <strong>Coherence dynamics</strong><br>
          \(\dot c = \dfrac{c_\star(r) - c}{\tau_S}\)<br><br>
          <strong>œá‚Äìdimension coordinate</strong><br>
          \(\dot\chi = k_\chi\,(c - c_0) - \gamma_\chi\,\chi.\)
        </div>

        <div class="equation-block">
          <strong>Structural synaptic weight</strong><br>
          \(P(r) = \exp\!\Big[-\dfrac{(r-r_{\rm syn})^2}{2\,\sigma_r^2}\Big],\quad G(c)=\tfrac12(1+c)\)<br>
          \(\dot w =
            \eta_w\,P(r)\,G(c)\,(1-w)
            - \lambda_w\,(1-G(c))\,w\)
        </div>

        <h3>Synapse Conductance and STUR Gain</h3>
        <div class="equation-block">
          <strong>X-dimension coupling</strong><br>
          \(\lambda_X = \tfrac12(1 + c_{\rm final})\,w_{\rm final}\)<br><br>
          <strong>Conductances</strong><br>
          \(g_{\rm classic} = g_0\,w_{\rm final}\)<br>
          \(g_{\rm STUR}    = g_0\,w_{\rm final}(1 + 2\,\lambda_X)\)
        </div>

        <h3>Neural Dynamics and STDP</h3>
        <div class="equation-block">
          <strong>Hodgkin‚ÄìHuxley neuron</strong><br>
          \(C_m\,\dot V = I_{\rm inj}
            - g_{\rm Na}m^3h\,(V-E_{\rm Na})
            - g_{\rm K}n^4\,(V-E_{\rm K})
            - g_{\rm L}(V-E_{\rm L})\)<br><br>
          <strong>Synaptic current</strong><br>
          \(I_{\rm syn} = g_{\rm syn}\,s(t)\,(E_{\rm syn} - V)\)
        </div>

        <div class="equation-block">
          <strong>STDP (classic)</strong><br>
          \(\Delta w_c =
            \begin{cases}
              +A_+ e^{-\Delta t/\tau_+}, & \text{pre before post (LTP)}\\[4pt]
              -A_- e^{-\Delta t/\tau_-}, & \text{post before pre (LTD)}
            \end{cases}\)<br><br>
          <strong>STUR-weighted STDP</strong><br>
          \(\Delta w_s =
            \begin{cases}
              (1+4\lambda_X)\,A_+ e^{-\Delta t/\tau_+}, & \text{LTP}\\[4pt]
              -(1-3\lambda_X)_+\,A_- e^{-\Delta t/\tau_-}, & \text{LTD}
            \end{cases}\)
        </div>

        <h3>Philosophic Statement</h3>
        <p class="phi-quote">
          In this model a thought is not just a spike, but a successful
          traversal of resistance. The axon searches a five-dimensional
          field, finds a corridor of low resistance, and then remembers that
          path by locking spins, geometry, and œá into coherence. Classical
          synapses are the shadows of this process; the œá-dimension is the
          hidden ledger that keeps track of which paths truly lower the
          resistance of the whole network.
        </p>
        <p class="phi-quote">
          Neuroplasticity, in STUR language, is the universe teaching matter
          how to resist more gracefully. Every new connection is the field
          re-writing itself to make future coherence easier.
        </p>
      </article>

      <!-- Right column: Buttons + Python driver -->
      <article class="panel">
        <div class="kicker">Python ¬∑ JupyterLite</div>
        <h2>Simulation Script</h2>

        <p>
          The script below is fully self-contained and JupyterLite-safe
          (<code>numpy</code> + <code>matplotlib</code> only). It:
        </p>
        <ul>
          <li>Grows an axon from Neuron A to Neuron B under the Unified Resistance field</li>
          <li>Tracks \(r(t)\), \(c(t)\), \(w(t)\), œá(t) and plots a 5D œá-slice</li>
          <li>Runs a pre-synaptic HH neuron and two posts (classic vs STUR œá-enhanced)</li>
          <li>Applies STDP to both and plots the weight competition</li>
        </ul>

        <div class="buttons-row">
          <button class="btn btn-primary" onclick="copyCode()">
            <span class="icon">üìã</span><span>Copy Python Script</span>
          </button>
          <button class="btn" onclick="openSandbox()">
            <span class="icon">üöÄ</span><span>Open in STUR Sandbox</span>
          </button>
          <a class="btn" href="https://github.com/sheldonlindberg-afk/STUR-Physics-Lab/blob/main/scripts/STUR_Neuroplasticity_Lab.ipynb" target="_blank">
            <span class="icon">üêô</span><span>View on GitHub</span>
          </a>
          <a class="btn" href="https://sheldonlindberg-afk.github.io/STUR-Physics-Lab/scripts/stur_sandbox.html" target="_blank">
            <span class="icon">üîó</span><span>Open in JupyterLite</span>
          </a>
        </div>

        <p class="tagline">
          Workflow: open the STUR Sandbox, paste this script into the Python cell,
          and run. Use the plots + printed values for papers, TikToks, or future
          STUR modules.
        </p>

        <div class="code-wrapper">
          <pre id="stur-neuro-code" class="code-block"><code># ===============================================================
# STUR Neuroplasticity Lab v5.1 ‚Äì 5D œá Synapse
# [‚Ä¶] (script content here unchanged)
# ===============================================================

import numpy as np
import matplotlib.pyplot as plt

plt.style.use("dark_background")
np.random.seed(0)

# etc.
</code></pre>
        </div>

      </article>
    </section>
  </main>

  <footer>
    STUR Neuroplasticity Lab ¬∑ 5D œá‚ÄìSynapse ¬∑ Generated for
    <strong>STUR Physics Lab</strong>. Drop this HTML file into
    <code>STUR-Physics-Lab/scripts/</code> and link it from your index.
  </footer>

  <script>
    function copyCode() {
      const el = document.getElementById("stur-neuro-code");
      if (!el) return;
      const text = el.innerText || el.textContent;
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(
          () => alert("STUR neuroplasticity script copied to clipboard ‚úÖ"),
          () => fallbackCopy(text)
        );
      } else {
        fallbackCopy(text);
      }
    }

    function fallbackCopy(text) {
      const ta = document.createElement("textarea");
      ta.value = text;
      ta.style.position = "fixed";
      ta.style.left = "-9999px";
      document.body.appendChild(ta);
      ta.focus();
      ta.select();
      try {
        document.execCommand("copy");
        alert("Script copied to clipboard ‚úÖ");
      } catch (e) {
        alert("Could not copy automatically ‚Äì select and copy manually.");
      }
      document.body.removeChild(ta);
    }

    function openSandbox() {
      window.open(
        "https://sheldonlindberg-afk.github.io/STUR-Physics-Lab/scripts/stur_sandbox.html",
        "_blank"
      );
    }
  </script>
</body>
</html>
